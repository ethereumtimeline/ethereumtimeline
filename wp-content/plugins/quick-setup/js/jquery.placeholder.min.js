/**
 * jquery.placeholder http://matoilic.github.com/jquery.placeholder
 *
 * @version v0.2.4
 * @author Mato Ilic <info@matoilic.ch>
 * @copyright 2013 Mato Ilic
 *
 * Patched to allow for elements with both value and placeholder attributes
 * and to track user typing to allow for values equal to the placeholder
 * attribute
 *
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 */
(function(e,t,n){function o(){var t=e(this);t.setUserFilled(t.realVal().length>0)}function u(){e(this).find(s).each(f)}function a(e){var t=e.attributes,n={},r=/^jQuery\d+/;for(var i=0;i<t.length;i++){if(t[i].specified&&!r.test(t[i].name)){n[t[i].name]=t[i].value}}return n}function f(){var t=e(this),n,r;if(t.is(":password"))return;if(t.data("password")){r=t.next().show().focus();e("label[for="+t.attr("id")+"]").attr("for",r.attr("id"));t.remove()}else if(t.realVal()==t.attr("placeholder")&&!t.isUserFilled()){t.val("");t.removeClass("placeholder")}}function l(){var t=e(this),n,r,i,s;r=t.attr("placeholder");if(e.trim(t.val()).length>0||t.isUserFilled())return;if(t.is(":password")){s=t.attr("id")+"-clone";n=e("<input/>").attr(e.extend(a(this),{type:"text",value:r,"data-password":1,id:s})).addClass("placeholder");t.before(n).hide();e("label[for="+t.attr("id")+"]").attr("for",s)}else{t.val(r);t.addClass("placeholder")}}var r="placeholder"in t.createElement("input"),i="placeholder"in t.createElement("textarea"),s=":input[placeholder]";e.placeholder={input:r,textarea:i};if(!n&&r&&i){e.fn.placeholder=function(){};return}if(!n&&r&&!i){s="textarea[placeholder]"}e.fn.realVal=e.fn.val;e.fn.val=function(){var t=e(this),n,r;if(arguments.length>0)return t.realVal.apply(this,arguments);n=t.realVal();r=t.attr("placeholder");return n==r?"":n};e.fn.isUserFilled=function(){var t=e(this);if("true"===t.data("user-filled")||true===t.data("user-filled")){return true}return false};e.fn.setUserFilled=function(t){var n=e(this);if(t){n.data("user-filled",true)}else{n.removeData("user-filled")}};e.fn.placeholder=function(){this.filter(s).each(function(){e(this).setUserFilled(e(this).realVal().length>0)});this.filter(s).each(l);return this};e(function(e){var n=e(t);n.on("submit","form",u);n.on("focus",s,f);n.on("blur",s,l);n.on("keyup",s,o);e(s).placeholder()})})(jQuery,document,window.debug)